Generate a test plan with mocks/stubs strategy and sample tests.

**Provide:**
- Code to test (paste or reference with @filename)

**Framework:** Auto-detect from project config (package.json, pyproject.toml, etc.). If not detected, ask which framework to use.

**Output:**
1. **Test Plan** — Test cases covering happy path, edge cases, error conditions
2. **Mocks/Stubs Strategy** — Dependencies to mock and approach for each
3. **Sample Tests** — Working test implementations

For each test case:
- Test name
- What it verifies
- Setup/mocks required
- Assertions
